# About 
The proyect is a partial design for fintech (XISO) application database using MySQL. The database is design for users to be able to charge money in the fintechs account, withdraw and deposit in merchants. It aims to support basic functionalities but has a few limitations, such as not supporting transactions between users. 

## Database, tables and columns
The database is called *xiso_staging* and in contains multiple tables, which are created in **[xiso_db.sql](https://github.com/r41ss4/xisov1/blob/main/db_scripts/xiso_db.sql)**. A detailed text description of the database content is available in **[inter_guide.md](https://github.com/r41ss4/xisov1/blob/main/inter_guide.md)**. The file is complemented with a png files that illustrates the relationship between tables, such as a image based on dbml script: **[xiso_diagram.dbml](https://github.com/r41ss4/xisov1/blob/main/xiso_diagram.dbml)**.   

To test the database, a file called **[inserts_plus.sql](https://github.com/r41ss4/xisov1/blob/main/db_scripts/inserts_plus.sql)** contains inserts and select statements to review the functionalities of the database. The logs generated by this script are also extracted for review. Additionally, the **[my.cnf](https://github.com/r41ss4/xisov1/blob/main/db_scripts/my.cnf)** file is used to configure MySQL to enable general query logging, ensuring that all SQL statements are logged.    

## Scope and limitations 
This project includes the creation of needed basic tables for a fintech database, users creation and general types of transactions, such as deposits. It is complemented with the needed procedures and triggers to automatically generate a user id and account id when creating a new user.   

However, the account amount of money, understood as the *amount* in the table *usd_accounts*, it does not change in relation with transactions. This means that inserts in *payin*, *payout* or *deposit* related to a certain *usd_account_id* will not modify the amount of in the table *usd_accounts*. Such situation also occurs with merchants accounts, as users deposit do not add into the merchant's amount in their table. 

## Getting Started
To build and run the Docker container for this project, follow these steps:

1. **Build the Docker Image**: In the terminal, positioned within the corresponding folder, run the following command. It creates a Docker image named xiso-db using the Dockerfile in the current directory. This image will include all the configurations and files specified in the Dockerfile:  
   ```sh
   docker build -t xiso-db .
    ```
2. **Run the Docker Container**: In the terminal, positioned within the corresponding folder, run the following command. It starts the Docker container, maps port 3322 on your host to port 3322 in the container, and mounts a local directory to /var/log/mysql in the container to store MySQL logs:  
   ```
   docker run --name xiso-container -d -p 3322:3322 -v /path/to/your/local/directory/mysql_logs:/var/log/mysql xiso-db
    ```
### Diagram made in dbdiagram.oi
<p>
    <img src="/db_visualization/xiso_dbmldiagram.png" width="800" height="800" />
</p>  